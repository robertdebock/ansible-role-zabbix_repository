---
#
# Ansible managed
#
language: python

python:
  - "3.8"

services:
  - docker

env:
  global:
    namespace="robertdebock"
  matrix:
    - image="centos" tag="7"
    - image="centos" tag="latest"
    - image="debian" tag="latest"
    - image="debian" tag="bullseye"
    - image="opensuse" tag="latest"
    - image="ubuntu" tag="latest"
    - image="ubuntu" tag="bionic"
    - image="ubuntu" tag="xenial"

cache:
  - pip

install:
  - pip install --upgrade pip
  - pip install tox

script:
  - n=0 ; until [ "$n" = 3 ] ; do tox --parallel all && break ; n=$((n+1)) ; done

notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
  slack: "TBdQ5vIOPuYx9jtJdu3jJaTt/sQQd8bG2szh/TrGEFfKzWfRtI5ozfRCEw0UprZMhG00G/FEHOBlbwos2YgGtQ0+L5gdZCTt2q/JbLsUXMGfUYpy56iInH9WdApkRonQcF5cdwp0zCLwbQrZAFb6O5DCiV6bq6511K3dgetby89AoHVDwYfurFUKMFquOHYHqT1CVdIZr7P+GM2jIbakBqsRQd6W+3iJ7mt9yuU5I1DEBgtyLNJ4eim2ceFc9eC7N+AbnxMSqQ3SU/hmSQvdGZyFQEA71j+ZWy4yPAeUxCZ1GDVT4cWTXE4AUs40TuKtO5N23Koi1zWQmdmQUXZAGn57DaSoqAJ5YUxBzGiQprxAWP03aZVQRemkhUIb+5kZqbYr3w5bXt4RFzlKS2AnoIx4qXBszGXokr5E1eJwOELbkACZXqWxM8GTkAHhzw97tfpxKvtCjnpcBbt48J67X1UKq8OSuzkowY2Q6zpsOXY1XYAAc62piOJ0Nl62Q0YOas5C7WqpYsfF2v+uLxDDVng9R2p9olOmot+TwJEUUIJVhnuC1foz6jQBMC16XNdIteRQees+T4jazcr4LPRAvku0qyEfxvb4NZ1GnuUHIhTBirvfIdPDZ5R/+e5TYFtjzZx6H+RbXQeoBBUQ8o7UN7dQD//weuqI7JCxRUxpnSI="
  email: false
